<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>submit_for_approval</name>
        <label>submit for approval</label>
        <locationX>424</locationX>
        <locationY>2906</locationY>
        <actionName>submit</actionName>
        <actionType>submit</actionType>
        <connector>
            <targetReference>loop_for_ids</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>objectId</name>
            <value>
                <elementReference>loop_for_ids.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>processDefinitionNameOrId</name>
            <value>
                <stringValue>Approval_To_AM_for_defective_Items</stringValue>
            </value>
        </inputParameters>
        <nameSegment>submit</nameSegment>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <actionCalls>
        <name>submit_for_sde</name>
        <label>submit for sde</label>
        <locationX>864</locationX>
        <locationY>2906</locationY>
        <actionName>submit</actionName>
        <actionType>submit</actionType>
        <connector>
            <targetReference>loop_for_ids</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>objectId</name>
            <value>
                <stringValue>{!loop_for_ids.Id}</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>processDefinitionNameOrId</name>
            <value>
                <stringValue>Approval_for_Defective_UPSD</stringValue>
            </value>
        </inputParameters>
        <nameSegment>submit</nameSegment>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <apiVersion>60.0</apiVersion>
    <assignments>
        <name>assign_cpd</name>
        <label>assign cpd</label>
        <locationX>424</locationX>
        <locationY>890</locationY>
        <assignmentItems>
            <assignToReference>CPSDID</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>check_loop_for_sales_order.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>check_loop_for_sales_order</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Copy_1_of_assign_cpd</name>
        <label>Copy 1 of assign cpd</label>
        <locationX>688</locationX>
        <locationY>890</locationY>
        <assignmentItems>
            <assignToReference>UPSDID</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>check_loop_for_sales_order.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>check_loop_for_sales_order</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>check_AM_exist</name>
        <label>check AM exist</label>
        <locationX>556</locationX>
        <locationY>2798</locationY>
        <defaultConnector>
            <targetReference>loop_for_ids</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>AM</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>loop_for_ids.Service_AM__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>submit_for_approval</targetReference>
            </connector>
            <label>AM</label>
        </rules>
    </decisions>
    <decisions>
        <name>check_cpsd_filter</name>
        <label>check cpsd filter</label>
        <locationX>798</locationX>
        <locationY>782</locationY>
        <defaultConnector>
            <targetReference>get_rmr_upsd</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>cpsdfilter</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>get_rmr_cpsd</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>create_GRN_for_CPSD_RMR</targetReference>
            </connector>
            <label>cpsdfilter</label>
        </rules>
    </decisions>
    <decisions>
        <name>check_CPSD_SO</name>
        <label>check CPSD SO</label>
        <locationX>688</locationX>
        <locationY>782</locationY>
        <defaultConnector>
            <targetReference>check_loop_for_sales_order</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>CPSD_SO</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>check_loop_for_sales_order.Part_Division_Name__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>CPSD</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>assign_cpd</targetReference>
            </connector>
            <label>CPSD-SO</label>
        </rules>
        <rules>
            <name>UPSD_SO</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>check_loop_for_sales_order.Part_Division_Name__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>CPSD</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_assign_cpd</targetReference>
            </connector>
            <label>UPSD SO</label>
        </rules>
    </decisions>
    <decisions>
        <name>check_cpsdIDs</name>
        <label>check cpsdIDs</label>
        <locationX>336</locationX>
        <locationY>1166</locationY>
        <defaultConnector>
            <targetReference>check_UPSDID</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>CPSDIDexist</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>CPSDID</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>get_defective_item_CPSD</targetReference>
            </connector>
            <label>CPSDIDexist</label>
        </rules>
    </decisions>
    <decisions>
        <name>check_if_ids_is_not_empty</name>
        <label>check if ids is not empty</label>
        <locationX>1111</locationX>
        <locationY>134</locationY>
        <defaultConnector>
            <targetReference>flow</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ids</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>get_record</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>check_if_SO_or_RMr</name>
        <label>check if SO or RMr</label>
        <locationX>765</locationX>
        <locationY>566</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>SO</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>get_Defective_SO_MSL</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>check_loop_for_sales_order</targetReference>
            </connector>
            <label>SO</label>
        </rules>
        <rules>
            <name>RMR</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>get_Defective_RMR</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>get_rmr_cpsd</targetReference>
            </connector>
            <label>RMR</label>
        </rules>
    </decisions>
    <decisions>
        <name>check_type</name>
        <label>check type</label>
        <locationX>930</locationX>
        <locationY>2690</locationY>
        <defaultConnector>
            <targetReference>loop_for_ids</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>CPSDtype</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>loop_for_ids.Part_Division_Name__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>CPSD</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>check_AM_exist</targetReference>
            </connector>
            <label>CPSDtype</label>
        </rules>
        <rules>
            <name>UPSD_Type</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>loop_for_ids.Part_Division_Name__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>CPSD</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Sde</targetReference>
            </connector>
            <label>UPSD Type</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Upsd</name>
        <label>Check Upsd</label>
        <locationX>182</locationX>
        <locationY>2090</locationY>
        <defaultConnector>
            <targetReference>loop_for_ids</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Upsd</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>get_defective_recordUPSD</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Copy_1_of_Copy_1_of_Copy_1_of_create_GRN</targetReference>
            </connector>
            <label>Upsd</label>
        </rules>
    </decisions>
    <decisions>
        <name>check_UPSD_filter</name>
        <label>check UPSD filter</label>
        <locationX>798</locationX>
        <locationY>1190</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>upsd_filter</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>get_rmr_upsd</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_create_GRN_for_CPSD_RMR</targetReference>
            </connector>
            <label>upsd filter</label>
        </rules>
    </decisions>
    <decisions>
        <name>check_UPSDID</name>
        <label>check UPSDID</label>
        <locationX>336</locationX>
        <locationY>1874</locationY>
        <defaultConnector>
            <targetReference>loop_for_ids</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>UPSDIDExist</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>UPSDID</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>get_defective_recordUPSD</targetReference>
            </connector>
            <label>UPSDIDExist</label>
        </rules>
    </decisions>
    <decisions>
        <name>checkCPSD_exist</name>
        <label>checkCPSD exist</label>
        <locationX>182</locationX>
        <locationY>1382</locationY>
        <defaultConnector>
            <targetReference>check_UPSDID</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>CPSD</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>get_defective_item_CPSD</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Copy_1_of_Copy_1_of_create_GRN</targetReference>
            </connector>
            <label>CPSD</label>
        </rules>
    </decisions>
    <decisions>
        <name>Sde</name>
        <label>Sde</label>
        <locationX>996</locationX>
        <locationY>2798</locationY>
        <defaultConnector>
            <targetReference>loop_for_ids</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>sdeyes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>loop_for_ids.SDE__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>submit_for_sde</targetReference>
            </connector>
            <label>sdeyes</label>
        </rules>
    </decisions>
    <environments>Default</environments>
    <formulas>
        <name>now</name>
        <dataType>DateTime</dataType>
        <expression>NOW()</expression>
    </formulas>
    <interviewLabel>GRN for Bulk defective/Mismatched Item {!$Flow.CurrentDateTime}</interviewLabel>
    <isAdditionalPermissionRequiredToRun>true</isAdditionalPermissionRequiredToRun>
    <label>GRN for Bulk defective/Mismatched Item</label>
    <loops>
        <name>check_loop_for_sales_order</name>
        <label>check loop for sales order</label>
        <locationX>336</locationX>
        <locationY>674</locationY>
        <collectionReference>get_Defective_SO_MSL</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>check_CPSD_SO</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>check_cpsdIDs</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>loop_for_ids</name>
        <label>loop for ids</label>
        <locationX>336</locationX>
        <locationY>2582</locationY>
        <collectionReference>get_Defective_SO_MSL</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>check_type</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>mess</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordCreates>
        <name>Copy_1_of_Copy_1_of_Copy_1_of_Copy_1_of_create_GRN</name>
        <label>Copy 1 of Copy 1 of Copy 1 of Copy 1 of create GRN</label>
        <locationX>50</locationX>
        <locationY>2198</locationY>
        <assignRecordIdToReference>grnUpsdID</assignRecordIdToReference>
        <connector>
            <targetReference>update_def_item_GRN</targetReference>
        </connector>
        <inputAssignments>
            <field>Channel_Partner__c</field>
            <value>
                <elementReference>get_defective_recordUPSD.Channel_Partner__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>GRN_Date_Time__c</field>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>GRN_Product_Division__c</field>
            <value>
                <elementReference>get_defective_recordUPSD.Part_Division_Name__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>GRN_Type__c</field>
            <value>
                <stringValue>Sales Order</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Location__c</field>
            <value>
                <elementReference>get_defective_recordUPSD.Location__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Product_Type__c</field>
            <value>
                <stringValue>Damaged</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Reverse_GRN__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Generated</stringValue>
            </value>
        </inputAssignments>
        <object>GRN__c</object>
    </recordCreates>
    <recordCreates>
        <name>Copy_1_of_Copy_1_of_Copy_1_of_create_GRN</name>
        <label>Copy 1 of Copy 1 of Copy 1 of create GRN</label>
        <locationX>50</locationX>
        <locationY>1490</locationY>
        <assignRecordIdToReference>grnId</assignRecordIdToReference>
        <connector>
            <targetReference>update_CPSD_ITems</targetReference>
        </connector>
        <inputAssignments>
            <field>Channel_Partner__c</field>
            <value>
                <elementReference>get_defective_item_CPSD.Channel_Partner__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>GRN_Date_Time__c</field>
            <value>
                <elementReference>now</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>GRN_Product_Division__c</field>
            <value>
                <elementReference>get_defective_item_CPSD.Part_Division_Name__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>GRN_Type__c</field>
            <value>
                <stringValue>Sales Order</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Location__c</field>
            <value>
                <elementReference>get_defective_item_CPSD.Location__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Product_Type__c</field>
            <value>
                <stringValue>Damaged</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Reverse_GRN__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Generated</stringValue>
            </value>
        </inputAssignments>
        <object>GRN__c</object>
    </recordCreates>
    <recordCreates>
        <name>Copy_1_of_create_GRN_for_CPSD_RMR</name>
        <label>Copy 1 of create GRN for CPSD RMR</label>
        <locationX>666</locationX>
        <locationY>1298</locationY>
        <inputAssignments>
            <field>Channel_Partner__c</field>
            <value>
                <elementReference>get_rmr_upsd.Channel_Partner__r.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>GRN_Date_Time__c</field>
            <value>
                <elementReference>$System.OriginDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>GRN_Product_Division__c</field>
            <value>
                <elementReference>get_rmr_upsd.Part_Division_Name__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>GRN_Type__c</field>
            <value>
                <stringValue>RMR</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Product_Type__c</field>
            <value>
                <stringValue>Damaged</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Reverse_GRN__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Approved</stringValue>
            </value>
        </inputAssignments>
        <object>GRN__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>create_GRN_for_CPSD_RMR</name>
        <label>create GRN for CPSD RMR</label>
        <locationX>666</locationX>
        <locationY>890</locationY>
        <connector>
            <targetReference>get_rmr_upsd</targetReference>
        </connector>
        <inputAssignments>
            <field>Channel_Partner__c</field>
            <value>
                <elementReference>get_rmr_cpsd.Channel_Partner__r.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>GRN_Date_Time__c</field>
            <value>
                <elementReference>$System.OriginDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>GRN_Product_Division__c</field>
            <value>
                <stringValue>CPSD</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>GRN_Type__c</field>
            <value>
                <stringValue>RMR</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Product_Type__c</field>
            <value>
                <stringValue>Damaged</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Reverse_GRN__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Approved</stringValue>
            </value>
        </inputAssignments>
        <object>GRN__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordLookups>
        <name>get_defective_item_CPSD</name>
        <label>get defective item CPSD</label>
        <locationX>182</locationX>
        <locationY>1274</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>checkCPSD_exist</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>CPSDID</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Defective_Product_Item__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>get_defective_recordUPSD</name>
        <label>get defective record UPSD</label>
        <locationX>182</locationX>
        <locationY>1982</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_Upsd</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>UPSDID</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Defective_Product_Item__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>get_Defective_RMR</name>
        <label>get Defective RMR</label>
        <locationX>765</locationX>
        <locationY>350</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>get_Defective_SO_MSL</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>ids</elementReference>
            </value>
        </filters>
        <filters>
            <field>Product_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Damaged</stringValue>
            </value>
        </filters>
        <filters>
            <field>Reverse_GRN__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Defective_Category__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>RMR</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Defective_Product_Item__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>get_Defective_SO_MSL</name>
        <label>get Defective SO/MSL</label>
        <locationX>765</locationX>
        <locationY>458</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>check_if_SO_or_RMr</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>ids</elementReference>
            </value>
        </filters>
        <filters>
            <field>Product_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Damaged</stringValue>
            </value>
        </filters>
        <filters>
            <field>Reverse_GRN__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Defective_Category__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Sales Order</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Defective_Product_Item__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>get_record</name>
        <label>get record</label>
        <locationX>765</locationX>
        <locationY>242</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>get_Defective_RMR</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>ids</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Defective_Product_Item__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>get_rmr_cpsd</name>
        <label>get rmr cpsd</label>
        <locationX>798</locationX>
        <locationY>674</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>check_cpsd_filter</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>ids</elementReference>
            </value>
        </filters>
        <filters>
            <field>Part_Division_Name__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CPSD</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Defective_Product_Item__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>get_rmr_upsd</name>
        <label>get rmr upsd</label>
        <locationX>798</locationX>
        <locationY>1082</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>check_UPSD_filter</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>ids</elementReference>
            </value>
        </filters>
        <filters>
            <field>Part_Division_Name__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <elementReference>CPSD</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Defective_Product_Item__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>update_CPSD_ITems</name>
        <label>update CPSD ITems</label>
        <locationX>50</locationX>
        <locationY>1598</locationY>
        <connector>
            <targetReference>check_UPSDID</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>CPSDID</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Reverse_GRN__c</field>
            <value>
                <elementReference>grnId</elementReference>
            </value>
        </inputAssignments>
        <object>Defective_Product_Item__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>update_def_item_GRN</name>
        <label>update def item GRN</label>
        <locationX>50</locationX>
        <locationY>2306</locationY>
        <connector>
            <targetReference>loop_for_ids</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>UPSDID</elementReference>
            </value>
        </filters>
        <filters>
            <field>Reverse_GRN__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <inputAssignments>
            <field>Reverse_GRN__c</field>
            <value>
                <elementReference>grnUpsdID</elementReference>
            </value>
        </inputAssignments>
        <object>Defective_Product_Item__c</object>
    </recordUpdates>
    <runInMode>SystemModeWithoutSharing</runInMode>
    <screens>
        <name>flow</name>
        <label>flow</label>
        <locationX>1458</locationX>
        <locationY>242</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>display_message</name>
            <fieldText>&lt;p&gt;Please select atleast one record&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>mess</name>
        <label>mess</label>
        <locationX>336</locationX>
        <locationY>3266</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>mes</name>
            <fieldText>&lt;p&gt;Part Claim Tag are generated Successfully&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <start>
        <locationX>985</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>check_if_ids_is_not_empty</targetReference>
        </connector>
    </start>
    <status>Draft</status>
    <variables>
        <name>AMIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>app</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Content_Document_Id</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>CPSDData</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>Defective_Product_Item__c</objectType>
    </variables>
    <variables>
        <name>CPSDID</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>currentItem_Copy_1_of_filter_CPSD</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Defective_Product_Item__c</objectType>
    </variables>
    <variables>
        <name>grnId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>grnUpsdID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>ids</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>NumberOfFiles</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>ProductType</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>SET</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>UPSDData</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Defective_Product_Item__c</objectType>
    </variables>
    <variables>
        <name>UPSDID</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
