<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>63.0</apiVersion>
    <assignments>
        <name>Assigning_PO_errors</name>
        <label>Assigning PO errors</label>
        <locationX>424</locationX>
        <locationY>650</locationY>
        <assignmentItems>
            <assignToReference>PO_details_Error_Variable</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Opportunity_PO_Details_Missing</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ErrorFound</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>checking_quote_type</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assigning_Sap_errors</name>
        <label>Assigning Sap errors</label>
        <locationX>424</locationX>
        <locationY>350</locationY>
        <assignmentItems>
            <assignToReference>Sap_Contact_Id_Missing</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Sap_Contact_ID_Missing_Formula</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ErrorFound</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Checking_PO_errors_on_Opportunity</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Bill_To_SAP_Customer_Id_Err_Msg</name>
        <label>Bill To SAP Customer Id Err Msg</label>
        <locationX>424</locationX>
        <locationY>2450</locationY>
        <assignmentItems>
            <assignToReference>Bill_To_Error_Message</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue>Bill to party - {!Sap_Customer_Number_Not_Present} </stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ErrorFound</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Checking_Ship_to_SAP_Cust_Id</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>CPQ_Invalid_Credit_days</name>
        <label>CPQ_Invalid_Credit_days</label>
        <locationX>50</locationX>
        <locationY>1058</locationY>
        <assignmentItems>
            <assignToReference>invalid_CPQ_credit_days</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Payment Term can&apos;t be blank.</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ErrorFound</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>getCPQQuoteLines</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>No_Component_Found</name>
        <label>No Component Found</label>
        <locationX>50</locationX>
        <locationY>1466</locationY>
        <assignmentItems>
            <assignToReference>No_Component_Found_Error</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue>Please add CPQ Quote Lines before proceeding</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ErrorFound</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Checking_Plant_Warehouse_Code</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>No_Sales_Component_Found</name>
        <label>No Sales Component Found</label>
        <locationX>490</locationX>
        <locationY>1466</locationY>
        <assignmentItems>
            <assignToReference>No_Sales_Component_Error</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue>Please add Sales Quote Lines before proceeding</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ErrorFound</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Checking_Plant_Warehouse_Code</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>PO_Nu_Blank_Err_Assignment</name>
        <label>PO Nu Blank Err Assignment</label>
        <locationX>424</locationX>
        <locationY>2150</locationY>
        <assignmentItems>
            <assignToReference>PO_Number_Blank_Error</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>PO Number or PO Date can&apos;t be blank.</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Checking_Service_Contract_Data</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Sales_Invalid_Credit_Day_Assign</name>
        <label>Sales_Invalid_Credit_Days</label>
        <locationX>490</locationX>
        <locationY>1058</locationY>
        <assignmentItems>
            <assignToReference>Sales_Invalid_Credit_Days_Error</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Payment Term can&apos;t be blank</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ErrorFound</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>getSalesQuoteLines</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Ship_To_SAP_Customer_Id_Err_Msg</name>
        <label>Ship To SAP Customer Id Err Msg</label>
        <locationX>424</locationX>
        <locationY>2750</locationY>
        <assignmentItems>
            <assignToReference>Ship_To_Error_Message</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue>Ship to party - {!Sap_Customer_Number_Not_Present} </stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ErrorFound</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Warehouse_Error_Assignment</name>
        <label>Warehouse Error Assignment</label>
        <locationX>424</locationX>
        <locationY>1850</locationY>
        <assignmentItems>
            <assignToReference>Plant_Warehouse_Error</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Warehouse can&apos;t be blank.</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Opportunity_PO_Number_PO_Date_Blank</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Checking_CPQ_Quote_Lines</name>
        <label>Checking CPQ Quote Lines</label>
        <locationX>182</locationX>
        <locationY>1358</locationY>
        <defaultConnector>
            <targetReference>Checking_Plant_Warehouse_Code</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>No_CPQ_Quote_Lines</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>getCPQQuoteLines</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>No_Component_Found</targetReference>
            </connector>
            <label>No CPQ Quote Lines</label>
        </rules>
    </decisions>
    <decisions>
        <name>Checking_Payment_Credit_Days</name>
        <label>Checking Payment Credit Days</label>
        <locationX>182</locationX>
        <locationY>950</locationY>
        <defaultConnector>
            <targetReference>getCPQQuoteLines</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Invalid_Credit_Days</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>cpqQuoteRecord.Payment_Credit_Days__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>0</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>cpqQuoteRecord.Payment_Credit_Days__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>7</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>cpqQuoteRecord.Payment_Credit_Days__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>15</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>cpqQuoteRecord.Payment_Credit_Days__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>30</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>cpqQuoteRecord.Payment_Credit_Days__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>45</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>cpqQuoteRecord.Payment_Credit_Days__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>60</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>cpqQuoteRecord.Payment_Credit_Days__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>90</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>cpqQuoteRecord.Payment_Credit_Days__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>120</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>cpqQuoteRecord.Payment_Credit_Days__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>180</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>CPQ_Invalid_Credit_days</targetReference>
            </connector>
            <label>Invalid Credit Days</label>
        </rules>
    </decisions>
    <decisions>
        <name>Checking_Payment_Credit_Days_for_Sales_Quote</name>
        <label>Checking Payment Credit Days for Sales Quote</label>
        <locationX>622</locationX>
        <locationY>950</locationY>
        <defaultConnector>
            <targetReference>getSalesQuoteLines</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Sales_Invalid_Credit_Days</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>salesQuoteRecord.Payment_Credit_Days__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>0</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>salesQuoteRecord.Payment_Credit_Days__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>7</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>salesQuoteRecord.Payment_Credit_Days__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>15</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>salesQuoteRecord.Payment_Credit_Days__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>30</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>salesQuoteRecord.Payment_Credit_Days__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>45</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>salesQuoteRecord.Payment_Credit_Days__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>60</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>salesQuoteRecord.Payment_Credit_Days__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>90</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>salesQuoteRecord.Payment_Credit_Days__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>120</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>salesQuoteRecord.Payment_Credit_Days__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>180</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Sales_Invalid_Credit_Day_Assign</targetReference>
            </connector>
            <label>Sales Invalid Credit Days</label>
        </rules>
    </decisions>
    <decisions>
        <name>Checking_Plant_Warehouse_Code</name>
        <label>Checking Plant Warehouse Code</label>
        <locationX>556</locationX>
        <locationY>1742</locationY>
        <defaultConnector>
            <targetReference>Opportunity_PO_Number_PO_Date_Blank</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Plant_warehouse_Blank</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>get_Opportunity.Plant__r.Warehouse_Code__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Warehouse_Error_Assignment</targetReference>
            </connector>
            <label>Plant warehouse Blank</label>
        </rules>
    </decisions>
    <decisions>
        <name>Checking_PO_errors_on_Opportunity</name>
        <label>Checking PO errors on Opportunity</label>
        <locationX>556</locationX>
        <locationY>542</locationY>
        <defaultConnector>
            <targetReference>checking_quote_type</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>PO_details_missing</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Opportunity_PO_Details_Missing</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assigning_PO_errors</targetReference>
            </connector>
            <label>PO details missing</label>
        </rules>
    </decisions>
    <decisions>
        <name>checking_quote_type</name>
        <label>checking quote type</label>
        <locationX>556</locationX>
        <locationY>842</locationY>
        <defaultConnector>
            <targetReference>Checking_Plant_Warehouse_Code</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>CPQ_Quote</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>cpqQuoteId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Checking_Payment_Credit_Days</targetReference>
            </connector>
            <label>CPQ Quote</label>
        </rules>
        <rules>
            <name>Sales_Quote</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>salesQuoteId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Checking_Payment_Credit_Days_for_Sales_Quote</targetReference>
            </connector>
            <label>Sales Quote</label>
        </rules>
    </decisions>
    <decisions>
        <name>Checking_Sales_Quote_Lines</name>
        <label>Checking Sales Quote Lines</label>
        <locationX>622</locationX>
        <locationY>1358</locationY>
        <defaultConnector>
            <targetReference>Checking_Plant_Warehouse_Code</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>No_Sales_Quote_Lines</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>getSalesQuoteLines</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>No_Sales_Component_Found</targetReference>
            </connector>
            <label>No Sales Quote Lines</label>
        </rules>
    </decisions>
    <decisions>
        <name>Checking_Sap_Contact_Id_on_Opportunity_s_Contact</name>
        <label>Checking Sap Contact Id  on Opportunity&apos;s Contact</label>
        <locationX>556</locationX>
        <locationY>242</locationY>
        <defaultConnector>
            <targetReference>Checking_PO_errors_on_Opportunity</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Sap_Contact_Id_on_Opportunity_s_Contact</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>get_Opportunity.Contact__r.SAP_Contact_Id__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>get_Opportunity.Contact__r.SAP_Contact_Id__c</leftValueReference>
                <operator>IsBlank</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assigning_Sap_errors</targetReference>
            </connector>
            <label>Sap Contact Id  on Opportunity&apos;s Contact</label>
        </rules>
    </decisions>
    <decisions>
        <name>Checking_Service_Contract_Data</name>
        <label>Checking Service Contract Data</label>
        <locationX>556</locationX>
        <locationY>2342</locationY>
        <defaultConnector>
            <targetReference>Checking_Ship_to_SAP_Cust_Id</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>SAP_Customer_Id_Not_Present</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>get_Opportunity.Account.SAP_Customer_Id__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>get_Opportunity.Account.RecordType.DeveloperName</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Residential_Customer</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Bill_To_SAP_Customer_Id_Err_Msg</targetReference>
            </connector>
            <label>SAP Customer Id Not Present</label>
        </rules>
    </decisions>
    <decisions>
        <name>Checking_Ship_to_SAP_Cust_Id</name>
        <label>Checking Ship to SAP Cust Id</label>
        <locationX>556</locationX>
        <locationY>2642</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Ship_to_SAP_Cust_Id_Not_Present</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>get_Opportunity.Ship_to_Party__r.SAP_Customer_Id__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>get_Opportunity.Ship_to_Party__r.RecordType.DeveloperName</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Residential_Customer</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Ship_To_SAP_Customer_Id_Err_Msg</targetReference>
            </connector>
            <label>Ship to SAP Cust Id Not Present</label>
        </rules>
    </decisions>
    <decisions>
        <name>Opportunity_PO_Number_PO_Date_Blank</name>
        <label>Opportunity PO Number PO Date Blank</label>
        <locationX>556</locationX>
        <locationY>2042</locationY>
        <defaultConnector>
            <targetReference>Checking_Service_Contract_Data</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>PO_Blank_Yes</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>get_Opportunity.PO_Number__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>get_Opportunity.PO_Date__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>PO_Nu_Blank_Err_Assignment</targetReference>
            </connector>
            <label>PO Blank Yes</label>
        </rules>
    </decisions>
    <environments>Default</environments>
    <formulas>
        <name>Opportunity_PO_Details_Missing</name>
        <dataType>String</dataType>
        <expression>IF(ISBLANK({!get_Opportunity.PO_Number__c}), &quot;PO Number cannot be blank &quot;, &quot;&quot;) &amp; 

IF(ISBLANK({!get_Opportunity.PO_Duration_Start__c}), 
   IF(ISBLANK({!get_Opportunity.PO_Number__c}), &quot;, &quot;, &quot;&quot;) &amp; &quot; PO Duration Start Date cannot be blank&quot;, &quot;&quot;) &amp; 

IF(ISBLANK({!get_Opportunity.PO_Receipt_Date__c}), 
   IF(OR(
      NOT(ISBLANK({!get_Opportunity.PO_Number__c})), 
      NOT(ISBLANK({!get_Opportunity.PO_Duration_Start__c}))
   ), &quot; &quot;, &quot;&quot;) &amp; &quot; PO Receipt date cannot be blank&quot;, &quot;&quot;) &amp;
   
IF(ISBLANK({!get_Opportunity.PO_Duration_End__c}), 
   IF(OR(
      NOT(ISBLANK({!get_Opportunity.PO_Number__c})), 
      NOT(ISBLANK({!get_Opportunity.PO_Duration_Start__c})),
	  NOT(ISBLANK({!get_Opportunity.PO_Receipt_Date__c}))
   ), &quot; &quot;, &quot;&quot;) &amp; &quot; PO Duration End date cannot be blank&quot;, &quot;&quot;) &amp;
   
IF(ISBLANK({!get_Opportunity.PO_Date__c}), 
   IF(OR(
      NOT(ISBLANK({!get_Opportunity.PO_Number__c})), 
      NOT(ISBLANK({!get_Opportunity.PO_Duration_Start__c})),
	  NOT(ISBLANK({!get_Opportunity.PO_Receipt_Date__c})),
	  NOT(ISBLANK({!get_Opportunity.PO_Duration_End__c}))
   ), &quot; &quot;, &quot;&quot;) &amp; &quot; PO date cannot be blank&quot;, &quot;&quot;) &amp;

IF(ISBLANK({!get_Opportunity.PO_Total_Value__c}), 
   IF(OR(
      NOT(ISBLANK({!get_Opportunity.PO_Number__c})), 
      NOT(ISBLANK({!get_Opportunity.PO_Duration_Start__c})),
	  NOT(ISBLANK({!get_Opportunity.PO_Receipt_Date__c})),
	  NOT(ISBLANK({!get_Opportunity.PO_Duration_End__c})),
	  NOT(ISBLANK({!get_Opportunity.PO_Date__c}))
   ), &quot; &quot;, &quot;&quot;) &amp; &quot; PO Total Value cannot be blank&quot;, &quot;&quot;)</expression>
    </formulas>
    <formulas>
        <name>Sap_Contact_ID_Missing_Formula</name>
        <dataType>String</dataType>
        <expression>IF(ISBLANK({!get_Opportunity.Contact__r.SAP_Contact_Id__c}), &quot;SAP Contact Id is Missing on Contact&quot;, &quot;&quot;)</expression>
    </formulas>
    <interviewLabel>Validating Data before creating Service Contract {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Validating Data before creating Service Contract</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordLookups>
        <name>get_Opportunity</name>
        <label>get Opportunity</label>
        <locationX>556</locationX>
        <locationY>134</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Checking_Sap_Contact_Id_on_Opportunity_s_Contact</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>opportunityId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>getCPQQuoteLines</name>
        <label>getCPQQuoteLines</label>
        <locationX>182</locationX>
        <locationY>1250</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Checking_CPQ_Quote_Lines</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SBQQ__Quote__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>cpqQuoteId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>SBQQ__QuoteLine__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>getSalesQuoteLines</name>
        <label>getSalesQuoteLines</label>
        <locationX>622</locationX>
        <locationY>1250</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Checking_Sales_Quote_Lines</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>QuoteId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>salesQuoteId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>QuoteLineItem</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <start>
        <locationX>430</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>get_Opportunity</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <name>Bill_To_Error_Message</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>cpqQuoteId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>cpqQuoteRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>SBQQ__Quote__c</objectType>
    </variables>
    <variables>
        <name>ErrorFound</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>invalid_CPQ_credit_days</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>No_Component_Found_Error</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>No_Sales_Component_Error</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>opportunityId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Plant_Warehouse_Error</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>PO_details_Error_Variable</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>PO_Number_Blank_Error</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>Sales_Invalid_Credit_Days_Error</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>salesQuoteId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>salesQuoteRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>Quote</objectType>
    </variables>
    <variables>
        <name>Sap_Contact_Id_Missing</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>Sap_Customer_Number_Not_Present</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue>SAP Customer Id not present.</stringValue>
        </value>
    </variables>
    <variables>
        <name>Ship_To_Error_Message</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
</Flow>
